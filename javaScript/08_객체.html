<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체</title>
    <style>
        .area{
            border: 1px solid black;
            background-color: bisque;
            width: 400px;
        }
        .big{
            height: 400px;
        }
        .small{
            height: 200px;
        }


</style>
</head>
<body>
    <h1>객체</h1>
    
    <h3>객체 선언 및 호출</h3>
    <p>
        객체는 {} 중괄호를 이용하여 생성하고 <br>
        중괄호 안에 이 객체에 필요로 하는 속성들을 정의한다. <br>
        속성 : 속성값 의 형태로 정의한다 (키:벨류) <br>
        속성값으로는 모든 자료형의 값을 담을 수 있다.
    </p>
    

    <pre>
        var 변수명 = {
            속성명:속성값,
            속성명:속성값,
            속성명,속성값,
            ....
        }
    </pre>

    <button onclick="test1();">확인</button>
    <div class="area big" id="area1"></div>

    <script>
        function test1(){
            var arr=["글자",155,["오늘","내일"]]; 

            var product ={
                pName:"피카츄인형",
                price:15000,
                color:["yellow","red","orange"]
            }; //자바스크립트의 객체 형태 자바에서 Map의 형태와 유사
            
            console.log(product);
            console.log(typeof(product));

            var area1 = document.getElementById("area1");
            area1.innerHTML += "product : "+product +"<br>";
            area1.innerHTML += "arr : "+arr +"<br>";
            //product :[Object object] 처럼 타입으로 알려주는 형태 출력

            //객체 내부 속성에 접근하려면 
            //방법1 : 대괄호를 이용하여 접근 -  객체명["속성명"]
            
            area1.innerHTML += "<b>방법1) 객체명['속성명']으로 접근하기 </b><br>";
            area1.innerHTML += "product['pName'] : "+product['pName']+"<br>";
            area1.innerHTML += "product['price'] : "+product['price']+"<br>";
            area1.innerHTML += "product['color'] : "+product['color']+"<br>";
            area1.innerHTML += "product['color'][0] : "+product['color'][0]+"<br>";
            

            //방법2 : .을 이용하는 방법 : 객체명.속성명
            area1.innerHTML += "<br>방법2) 객체명.속성명 으로 접근하기 </b><br>";
            area1.innerHTML += "product.pName : "+product.pName +"<br>";
            area1.innerHTML += "product.price : "+product.price +"<br>";
            area1.innerHTML += "product.color : "+product.color +"<br>";
            area1.innerHTML += "product.color[1] : "+product.color[1] +"<br>";

        };  

    </script>

    <br>

    <h3>객체 생성 특이케이스(속성명 제시시 반드시 문자열 형태로 제시해야되는 케이스)</h3>

    <!-- btn[onclick="test2()"]{확인}+div.area.small#area2 -->

    <button onclick="test2();">확인</button>
    <div class="area small" id="area2"></div>

    <script>
        function test2(){
            //속성명 제시시 공백이나 특수문자가 포함될경우 반드시 문자열의 형태로 제시해야한다.

            var user={
                "user name" : "박보검",
                "age!!" : 25
            }

            console.log(user);

            var area2 = document.querySelector("#area2");

            // .표기법 사용불가
            // area2.innerHTML +="user.user name : "+user.'user name'+"<br>";
            // area2.innerHTML +="user.age!! : "+user.age!!+"<br>";

            //[]로 속성명을 넣어줘야한다 (문자열표기)
            area2.innerHTML +="user name : "+user["user name"]+ "<br>";
            area2.innerHTML +="user age : "+user["age!!"]+"<br>";
        }
    </script>

    <h3>객체에서의 반복문</h3>
    <p>
        객체가 가지고 있는 모든 속성들에 순차적으로 접근하고자 한다면 반복문 제시 <br>
        단, 단순 for loop 문으로는 불가능하여 for in문을 사용해야한다.
    </p>

    <!-- btn[onclick="test3()"]{확인}+div.area.small#area3 -->
    <button onclick="test3()">확인</button>
    <div class="area small" id="area3"></div>

    <script>
        function test3(){

            let area3 = document.getElementById("area3");
            var arr = ["아이스크림","와플","크로플"];

            for(var i in arr){
                area3.innerHTML += arr[i] +"<br>";
            };

            let place = {
                name:"당산",
                weather:"안개",
                floor:20,
                class:['a','b','c','d','e'],
                service:true,
                key:"키입니다"
            };

            console.log(place);

            for(var key in place){
                //객체명.속성을 통한 방법을 사용하면 진짜 place.key라는 속성을 찾기때문에 원하는 결과를 얻을 수 없다.
                // area3.innerHTML += "place.key : "+place.key+"<br>"; //key속서엥 담긴 값 "키입니다"만 출력됨
                area3.innerHTML +=key + ":"+place[key]+"<br>";
                //in뒤에 객체를 제시하면
                //반복문이 수행될때마다 객체의 속성명들이 in앞에 있는 변수에 담기게 된다.
            }


        }

    </script>

    <h3>객체의 메소드 속성</h3>
    <p>
        객체의 속성 중 함수 자료형인 속성을 메소드라고 부른다.
    </p>


    <button onclick="test4()">확인</button>
    <div class="area small" id="area4"></div>

    <script>
        function test4(){

            var area4 = document.getElementById("area4");

            var name = "어문경";

            var dog = {
                name :"둥이",
                kind :"사모예드",
                eat : function(food){

                    area4.innerHTML += this.kind + "종인 "+this.name+"가 "+food+"를 먹고있어요.<br>";
                    //메소드 속성내에 같은 객체 속성을 호출할땐 this.을 붙여서 제시해야한다.
                }
            };

            dog.eat("개껌");
        }
    </script>

    <h3>in과 with키워드</h3>

    <p>
        in : 객체 내에 해당 속성이 있는지 확인 시켜주는 키워드 <br>
        with : 객체명 제시하는것을 생략할 수 있다.
    </p>

    조이름 : <input type="text" id="name"> <br>
    주제 : <input type="text" id="topic"><br>
    점수 : <input type="number" id="score"><br>

    <button onclick="test5();">확인</button>
    <div class="area big" id="area5"></div>

    <script>
        function test5(){
            let name = document.getElementById("name").value;
            let topic = document.querySelector("#topic").value;
            let score = Number(document.getElementById("score").value);

            let student={
                name:'불사조',
                topic:'해리포터',
                score:'100',
                toString:function(){
                    return this.name+" "+this.topic+" "+this.score + "내가 정의한 toString";
                }
            };

            let area5 = document.getElementById("area5");

            area5.innerHTML+="student : "+student +"<br>";
            area5.innerHTML+="조이름 : "+student.name +"<br>";
            area5.innerHTML+="주제  : "+student.topic +"<br>";
            area5.innerHTML+="점수  : "+student.score +"<br>";

            //속성명 in 객체명 : 해당 객체 내에 해당하는 속성이 존재할 경우 true 없으면 false를 반환한다.
            area5.innerHTML += "name이라는 속성이 있나요 ? "+("name" in student)+"<br>";
            area5.innerHTML += "topic이라는 속성이 있나요 ? "+("topic" in student)+"<br>";
            area5.innerHTML += "cash라는 속성이 있나요 ? "+("cash" in student)+"<br>";

            with(student){//객체명. 표기를 생략할수있음 단 with(객체명)을 작성해야함 
                area5.innerHTML +="조이름 "+name+"<br>";
                area5.innerHTML +="toString "+toString+"<br>";
            }

        };
    </script>


        <h3>연습문제</h3>
        <p>
            학생의 이름, 국어성적,수학성적,영어성적을 입력받고 <br>
            각각 벨류값을 전역변수에 담아서 student객체를 하나 만들고 그곳에 전역변수로 지역변수를 초기화 <br>
            toString과 합계를 구하는 sum 평균을 구하는 avg를 만들어보시오. <br>
            만든 객체에 이름과 국어성적과 수학성적 속성이 있는지 in 키워드로 확인
            <br> with로 student없이 총점과 평균을 뽑아보시오 
            <br> div영역에 추가하기
            
        </p>    

        학생 이름 : <input type="text" id="sname"><br>
        국어 성적 : <input type="number" name="" id="kor"><br>
        수학 성적 : <input type="number" name="" id="math"><br>
        영어 성적 : <input type="number" name="" id="eng"><br>

        <button onclick="ex01();">성적확인</button>
        <div class="area big" id="ex01"></div>

        <script>

            let sname ;
            let kor ;
            let eng ;
            let math ;

            function ex01(){

                sname = document.getElementById("sname").value;
                kor = Number(document.getElementById("kor").value);
                eng = Number(document.getElementById("eng").value);
                math = Number(document.getElementById("math").value);

                let student = {
                    sname:sname,
                    kor:kor,
                    eng:eng,
                    math:math,
                    toString:function(){
                        return this.sname+" "+this.kor+" "+this.eng+" "+this.math+" "+"내가 정의한 toString";
                    },
                    getSum:function(){
                        return this.kor+this.eng+this.math;
                    },
                    getAvg:function(){
                        return Math.floor(this.getSum()/3);
                        //(this.kor+this.eng+this.math) / 3;
                    }
                };

                let ex01 = document.getElementById("ex01");

                ex01.innerHTML += "student : "+student+"<br>";
                ex01.innerHTML += "총점 : "+student.getSum()+"<br>";
                ex01.innerHTML += "평균 : "+student.getAvg()+"<br>";

                //속성들이 있는지 확인 in키워드
                ex01.innerHTML += "이름 속성이 있나요? : "+("sname" in student)+"<br>";
                ex01.innerHTML += "국어성적 속성이 있나요? : "+("kor" in student)+"<br>";
                ex01.innerHTML += "수학성적 속성이 있나요? : "+("math" in student)+"<br>";

                with(student){ //중복코드를 줄일 수 있는 기능 
                    ex01.innerHTML +="with로 총점 뽑기 : "+getSum()+"<br>";
                    ex01.innerHTML +="with로 평균 뽑기 : "+getAvg()+"<br>";
                }
            }
        </script>

        <hr>

        <h3>객체의 속성 추가 및 제거</h3>

        <button onclick="test6();">확인</button>
        <div class="area small" id="area6"></div>

        <script>
            function test6(){

                var student = {}; //object 빈 객체 생성

                console.log(student);

                student.name ="유해진";
                student.hobby =["작전","잠복","수사"];
                student.dream ="강력계";
                student.age=45;

                console.log(student);

                student.age=50;//중복된 속성은 추가 X 값이 변경

                console.log(student);

                with(student){
                    address ="서울";
                }//with의 경우 객체에 없는 속성을 추가할 수 없다. 속성값을 가져오는 용도로 사용
                console.log(student);

                var area6 = document.getElementById("area6");

                area6.innerHTML+="student : "+student+"<br>";

                //메소드 속성 추가
                student.toString = function(){
                    var str = "name :"+this.name+" hobby :"+this.hobby+" dream : "+this.dream
                                +" age :"+this.age+"<br>";

                    return str;
                };

                area6.innerHTML+="student : "+student/*.toString()*/+"<br>";

                //객체의 속성 제거
                delete(student.hobby);
                //hobby속성이 삭제되어 undefined로 나온다.(toString에는 넣어놨기 때문)
                area6.innerHTML+="student : "+student+"<br>";
                console.log(student);
            };



        </script>





    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>


</body>
</html>