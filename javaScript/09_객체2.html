<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체2</title>
    <style>
        .area {
            background-color: bisque;
            border: 1px solid black;
            height: 300px;
            width: 400px;
        }
    </style>
</head>

<body>
    <h1>객체2</h1>
    <h3>객체 배열을 사용한 다량의 데이터 관리</h3>
    <button onclick="test1();">확인</button>
    <div class="area" id="area1"></div>

    <script>
        function test1() {
            let student1 = { name: "박보검", java: 100, oracle: 70, html: 50, css: 60 };
            let student2 = { name: "송강", java: 100, oracle: 100, html: 100, css: 50 };
            let student3 = { name: "김연아", java: 50, oracle: 10, html: 100, css: 100 };
            let student4 = { name: "아이유", java: 60, oracle: 70, html: 20, css: 40 };


            let students = [];

            students.push(student1);
            students.push(student2);
            students.push(student3);
            students.push(student4);

            console.log(students);
            console.log(students[0]);
            console.log(students[0].name);


            for (var i in students) {
                students[i].javascript = 100;
                students[i].getSum = function () {
                    return this.java + this.oracle + this.html + this.css + this.javascript;
                };
                students[i].getAvg = function () {
                    return this.getSum() / 5;
                };
            };

            console.log(students);

            let area1 = document.getElementById("area1");

            // for (var i in students) {

            //     area1.innerHTML += "이름 : " + students[i].name
            //         + " 총점 : " + students[i].getSum()
            //         + " 평균 : " + students[i].getAvg() + "<br>";
            // }

            //중복되는 students[i]를 with에 넣어 중복코드 제거 
            for (var i in students) {
                with(students[i]){
                    area1.innerHTML += "이름 : " + name
                    + " 총점 : " + getSum()
                    + " 평균 : " + getAvg() + "<br>";

                }
            }
        }
    </script>

    <hr>

    <h3>생성자 함수</h3>

    <p>
        new 키워드를 이용해서 객체를 생성할수 있는 함수 (함수명 제시시 첫글자 대문자로)
    </p>

    <button onclick="test2();">확인</button>
    <div class="area" id="area2"></div>

    <script>
        function test2(){

            let student1 = new Student('현빈',100,60,50,40,30);
            let student2 = new Student('손예진',30,50,100,70,30);
            let student3 = new Student('윤아',50,60,60,40,70);


            console.log(student2);

            let students = [student1,student2,student3];

            console.log(students);

            var area2 = document.getElementById("area2");

            for(var i in students){
                area2.innerHTML+="student :"+students[i]+"<br>";
            }

        }
        //생성자 함수로 초기화 
        function Student(name,java,oracle,html,css,javascript){

            this.name = name;
            this.java = java;
            this.oracle = oracle;
            this.html = html;
            this.css = css;
            this.javascript = javascript;

            this.toString = function(){
                return "이름 : "+this.name+" 자바점수 : "+this.java+" 오라클점수 : "+this.oracle;
            }
        }

    </script>


    <hr>

    <h3>Date 내장객체</h3>

    <button onclick="test3();">확인</button>
    <div class="area" id="area3"></div>

    <script>
        function test3(){

            var area3 = document.getElementById("area3");

            var date1 = new Date(); // 현재 날짜 및 시간

            //2022년 9월 29일 - 내부적으로 월은 +1 되기때문에 -1을 해줘야한다.
            var date2 = new Date(2022,10-1,30);

            area3.innerHTML += "Date() : "+date1+"<br>";
            area3.innerHTML += "Date(년,월,일) : "+date2+"<br>";
            //시,분,초는 0으로 자동 세팅 

            //시간까지 세팅하기
            var date3 = new Date(2023,1-1,12,16,20,01);
            area3.innerHTML += "Date(년,월,일,시,분,초) : "+date3+"<br>";

            //년도만 알아내고 싶다면
            area3.innerHTML +="년도 : "+date3.getFullYear() + "<br>";
            //월만 알아내고 싶다면 
            area3.innerHTML +="월 : "+(date3.getMonth()+1) +"<br>";
            //일만 알아내고 싶다면
            area3.innerHTML +="일 : "+date3.getDate() +"<br>";
            //요일 
            area3.innerHTML +="요일 : "+date3.getDay() +"<br>";

            // 시 : getHour 분:getMinutes 초:getSeconds()

            //종강일 디데이 구하기
            var end = new Date(2023,0,12,16,20,01); //2023년1월12일
            var now = new Date(); //현재

            area3.innerHTML += "종강일 디데이 : "+(end-now)+"<br>";
            //현재날짜부터 종강날짜까지 몇 밀리세컨드 가 남았는지 알려준다.

            //1s = 1000ms
            //1m = 60s = 60 * 1000
            //1h = 60m = 60 * 60 * 1000 ;
            //1d = 24h = 24 * 60 * 60 * 1000;

            var dday = (end-now)/(24*60*60*1000);



            alert("종강까지 단 "+Math.ceil(dday)+"일 남았습니다");


        }

    </script>






    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

</body>

</html>